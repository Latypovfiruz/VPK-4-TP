
# БПЛА для картографирования местности

<img width="1536" height="1024" alt="image" src="https://github.com/user-attachments/assets/b40f7f1b-5f1b-4a3e-a480-0c000c433bbd" />

Примечание: На данном рисунке, изображен макет дрона для картографирования местности, макет является тестовым, и реализован как цифровой двойник.

# Концепция постановки задачи

Цель: Разработка беспилотного летательного аппарата, способного выполнять аэрофотосъёмку и сбор данных о рельефе и объектах местности на базе защищенной архитектуры.

# Активы и риски дрона для картографирования

| Актив | Угроза | Уязвимость | Последствие |
|------|--------|------------|-------------|
| Полётное задание | Подмена маршрута | Отсутствие проверки целостности данных | Потеря дрона, искажение картографических данных |
| Навигационные данные (GPS/ГЛОНАСС) | GPS-спуфинг | Отсутствие антиспуфинг-механизмов | Уход дрона с маршрута, авария |
| Канал связи | Перехват управления | Незашифрованный радиоканал | Захват дрона, утечка данных |
| Картографические данные | Несанкционированный доступ | Слабая система хранения | Утечка конфиденциальной информации |
| Бортовое ПО | Вредоносное вмешательство | Отсутствие контроля целостности | Некорректная работа дрона |
| Аппаратная платформа | Отказ оборудования | Перегрев, износ компонентов | Аварийная посадка, простой работ |
| Оператор | Ошибка управления | Недостаточная подготовка | Повреждение дрона, юридическая ответственность |
| Аккумулятор | Потеря питания в полёте | Отсутствие мониторинга заряда | Падение дрона, утрата оборудования |

# Роли пользователей системы дрона

| Роль                | Уровень доступа        | Разрешения / Ограничения                                                                                     | Обоснование                                                                                 |
|---------------------|----------------------|--------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| Администратор       | Полный доступ         | Управление всеми компонентами, настройка миссий, просмотр и изменение всех данных, управление пользователями | Полный контроль над системой, отвечает за безопасность и корректность миссий               |
| Оператор            | Высокий               | Запуск и остановка миссий, управление дроном через send_command, просмотр телеметрии                          | Основной пользователь для выполнения полетных заданий                                     |
| Аналитик            | Средний               | Просмотр телеметрии, маршрутов, визуализация данных через mapper, генерация отчетов                          | Для анализа данных и контроля миссий без права управлять дроном                            |
| Разработчик / Тестер | Ограниченный          | Тестирование и отладка через emulator и app.py, просмотр логов и данных, без запуска реальных миссий         | Для безопасной разработки и тестирования, исключает влияние на реальные полеты             |
| Наблюдатель / Гость | Минимальный           | Read-only доступ к данным и визуализации на app.py или mapper                                                | Для внешних пользователей или наблюдателей, без возможности управления или изменения данных |

# Контекст 
<img width="604" height="316" alt="Снимок экрана 2025-12-16 в 20 10 30" src="https://github.com/user-attachments/assets/50eb827d-b1c2-4073-ae2a-8604b72e81c3" />

# Сценарий миссии
<img width="1360" height="1000" alt="сценарий миссии" src="https://github.com/user-attachments/assets/cdacb543-e5a2-4119-b50a-3e85e53b51d9" />


# Архитектура 
<img width="658" height="499" alt="Снимок экрана 2025-12-23 в 21 53 03" src="https://github.com/user-attachments/assets/be50f464-1741-4c5c-8000-b46dea2e4ee0" />


| Компонент        | Описание |
|------------------|----------|
| **send_command** | Модуль отправки управляющих команд дрону. Формирует и передаёт команды управления (движение, старт, остановка) через брокер сообщений Mosquitto с использованием MQTT-протокола. Используется веб-интерфейсом и другими сервисами системы. |
| **emulator**     | Эмулятор дрона, предназначенный для тестирования и отладки системы без использования реального БПЛА. Генерирует телеметрию (координаты, высота, скорость, состояние) и имитирует поведение дрона, публикуя данные в Mosquitto. |
| **mapper**       | Модуль работы с картографическими данными. Отвечает за отображение маршрута полёта, текущего положения дрона и обработку координат. Может использоваться для визуализации данных на карте и анализа полётных заданий. |
| **mosquitto**    | MQTT-брокер, обеспечивающий обмен сообщениями между всеми компонентами системы. Используется для передачи команд управления, телеметрии дрона и служебных сообщений. Является центральным элементом взаимодействия модулей. |
| **Raspberry Pi Zero** | Встроенный модуль дрона с камерой. Отвечает за захват видео/изображений, выполнение команд, полученных через Mosquitto, и отправку данных видео/фото в систему путем шифрования пакетов. |
| **app.py (Flask)** | Веб-интерфейс системы, реализованный с использованием фреймворка Flask. Предоставляет пользователю интерфейс для управления дроном, просмотра состояния через MQTT. |
| **monitor**      | Модуль мониторинга и контроля безопасности. Отслеживает сообщения в Mosquitto и проверяет их соответствие заданным политикам безопасности (целостность данных, допустимые команды, корректные источники). Используется для обнаружения аномалий и предотвращения нарушений. |

# Цели безопасности 

1. Конфиденциальность данных телеметрии и видеопотока.
2. Целостность сообщений в MQTT.

# Предположения безопасности
1. Полетное задание и маршрут остаются безопасными на весь период полета.

# Негативные сценарии 
## Негативный сценарий №1
<img width="949" height="407" alt="Негативный сценарий 1" src="https://github.com/user-attachments/assets/c7678ac6-20db-4b12-8154-dbcaf0565aa4" />

## Негативный сценарий №2
<img width="1543" height="665" alt="негатив 2" src="https://github.com/user-attachments/assets/92313f86-cb46-4de4-a1fa-0d821a5a22ea" />

## Негативный сценарий №3
<img width="902" height="436" alt="Негатив 3" src="https://github.com/user-attachments/assets/5834536f-65cd-468d-ba17-e73707dbf9bf" />

# Высокоуровневая архитектура
<img width="940" height="616" alt="Снимок экрана 2025-12-24 в 17 35 16" src="https://github.com/user-attachments/assets/4e719a9b-2572-4d9b-b954-f52fbb89ed13" />



Ниже представлен анализ ключевых компонентов системы дрона с указанием уровня доверия, сложности и обоснования влияния на миссию.

| Компонент        | Уровень доверия              | Оценка сложности и размера | Обоснование                                                                                             |
|-----------------|-----------------------------|---------------------------|--------------------------------------------------------------------------------------------------------|
| send_command    | Доверенный                  | MM                        | Формирует команды управления дроном; надежный компонент, ошибки маловероятны и не влияют на безопасность. |
| emulator        | Доверенный                  | MM                        | Генерирует телеметрию для тестирования; обеспечивает корректное тестирование миссий и не влияет на реальный полет. |
| mapper          | Доверенный                  | SS                        | Обрабатывает и визуализирует координаты и маршрут; поддерживает целостность данных и контроль миссии. |
| mosquitto       | Доверенный / повышает целостность | SS                  | Брокер сообщений; обеспечивает безопасный и надежный обмен данными между компонентами, поддерживая целостность и безопасность. |
| monitor         | Доверенный                  | SS                        | Контролирует все сообщения, проверяет соблюдение политик безопасности; предотвращает выполнение запрещённых команд и защищает данные. |
| Raspberry Pi Zero | Недоверенный              | MM                        | Выполняет команды дрона и собирает медиа; сбой или компрометация могут привести к некорректной телеметрии или утечке данных. |
| app.py (Flask)  | Недоверенный                | MM                        | Read-only интерфейс для отображения данных; ошибки могут исказить отображение, но не управляют дроном. |
| camera          | Недоверенный                | MM                        | Снимает медиа и передаёт на Pi Zero; сбой или компрометация могут привести к утечке или потере данных. |

